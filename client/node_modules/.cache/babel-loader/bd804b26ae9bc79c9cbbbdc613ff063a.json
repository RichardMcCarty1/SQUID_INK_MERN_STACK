{"ast":null,"code":"import _classCallCheck from \"/Users/caitlin/SQUID_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/caitlin/SQUID_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/caitlin/SQUID_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/caitlin/SQUID_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/caitlin/SQUID_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/caitlin/SQUID_MERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/caitlin/SQUID_MERN/client/src/components/myfiles/MyFiles.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport LinkButton from \"../../actions/authActions\";\n\nvar MyFiles = /*#__PURE__*/function (_Component) {\n  _inherits(MyFiles, _Component);\n\n  function MyFiles(props) {\n    var _this;\n\n    _classCallCheck(this, MyFiles);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MyFiles).call(this, props));\n    _this.state = {\n      files: [],\n      file: ''\n    };\n    _this.loadFiles = _this.loadFiles.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(MyFiles, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadFiles();\n    }\n  }, {\n    key: \"loadFiles\",\n    value: function loadFiles() {\n      var _this2 = this;\n\n      fetch('/api/users/files').then(function (res) {\n        return res.json();\n      }).then(function (files) {\n        if (files.message) {\n          console.log('No Files');\n\n          _this2.setState({\n            files: []\n          });\n        } else {\n          _this2.setState({\n            files: files\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var files = this.state.files;\n      var user = this.props.auth.user;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: \"75vh\"\n        },\n        className: \"container valign-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"landing-copy col s12 center-align\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }\n      }, \"Files you've uploaded\"), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"App-table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 19\n        }\n      }, \"File\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 19\n        }\n      }, \"Uploaded\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 19\n        }\n      }, \"Size\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }\n      }, files.map(function (file, index) {\n        var d = new Date(file.uploadDate);\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: index,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: \"http://localhost:3001/api/files/\".concat(file.filename),\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }\n        }, file.filename)), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }\n        }, \"\".concat(d.toLocaleDateString(), \" \").concat(d.toLocaleTimeString())), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }\n        }, Math.round(file.length / 100) / 10 + 'KB'), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          onClick: _this3.deleteFile.bind(_this3),\n          id: file._id,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }\n        }, \"Remove\")));\n      }))))));\n    }\n  }]);\n\n  return MyFiles;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps, {})(MyFiles);","map":{"version":3,"sources":["/Users/caitlin/SQUID_MERN/client/src/components/myfiles/MyFiles.js"],"names":["React","Component","connect","LinkButton","MyFiles","props","state","files","file","loadFiles","bind","fetch","then","res","json","message","console","log","setState","user","auth","height","map","index","d","Date","uploadDate","filename","toLocaleDateString","toLocaleTimeString","Math","round","length","deleteFile","_id","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport LinkButton from \"../../actions/authActions\";\n\n\nclass MyFiles extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      files: [],\n      file: ''\n    }\n    this.loadFiles = this.loadFiles.bind(this);\n  }\n  componentDidMount() {\n    this.loadFiles();\n  }\n  loadFiles() {\n    fetch('/api/users/files')\n      .then(res => res.json())\n      .then(files => {\n        if (files.message) {\n          console.log('No Files');\n          this.setState({ files: [] })\n        } else {\n          this.setState({ files })\n        }\n      });\n  }\n  \n  \n    render() {\n      const { files } = this.state;\n      const { user } = this.props.auth;\n  \n      return (\n        <div style={{ height: \"75vh\" }} className=\"container valign-wrapper\">\n          <div className=\"row\">\n            <div className=\"landing-copy col s12 center-align\">\n              \n            <h4>Files you've uploaded</h4>\n  \n      \n            <table className=\"App-table\">\n            <thead>\n              <tr>\n                  <th>File</th>\n                  <th>Uploaded</th>\n                  <th>Size</th>\n                  <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {files.map((file, index) => {\n                var d = new Date(file.uploadDate);\n                return (\n                  <tr key={index}>\n                    <td><a href={`http://localhost:3001/api/files/${file.filename}`}>{file.filename}</a></td>\n                    <td>{`${d.toLocaleDateString()} ${d.toLocaleTimeString()}`}</td>\n                    <td>{(Math.round(file.length/100) / 10)+'KB'}</td>\n                    <td><button onClick={this.deleteFile.bind(this)} id={file._id}>Remove</button></td>\n                  </tr>\n                )\n              })}\n            </tbody>\n          </table>\n\n\n \n\n\n\n\n  \n  \n            </div>\n          </div>\n        </div>\n      );\n    }\n\n\n    \n  }\n  \n \n  \n  const mapStateToProps = state => ({\n    auth: state.auth\n  });\n  \n  export default connect(\n    mapStateToProps,\n    {}\n  )(MyFiles);\n  "]},"metadata":{},"sourceType":"module"}